---
layout: post
title: ! 'How to: merge existing GMail accounts'
tags:
- communications
- email
- gmail
- google apps
- howto
- imap
- Internet
- Lifehack
- tips
status: publish
type: post
published: true
meta:
  aktt_notify_twitter: 'no'
  _edit_last: '1'
  btc_comment_counts: a:0:{}
---
<em>If you're like me you have a GMail account (something like yourname@gmail.com). But, one day, <a href="http://www.google.com/apps/intl/en/business/index.html">Google Apps</a> came along and offered the opportunity for Google to host and act as your domains' email provider. I immediately forwarded all my incoming gmail.com email to devinreams.com and set up the domain on Google Apps. Then a year later, I decided to change my domain to reams.me, so I set up another Google Apps instance and started forwarding email there.

Now I had three GMail accounts, all with different email saved in them. Oh, and suddenly, Google Voice and Contacts appered on the scene. I realized I wanted go go back to my gmail.com account. I had email all over the place.</em>

<h2>I had Google email stored in three difference places</h2>

I wanted to consolidate the email from my two Google Apps accounts (devinreams.com, reams.me) and have my thousands of emails stored all in one place (gmail.com). "No sweat", I thought. But, this process is harder than may appear on the surface. Below I outline a multi-step process where I 
<ol><li>physically copy email to one account to another, and </li><li>setup rules so that new mail (incoming and outgoing) is coming to/from the right places.</li></ol>

<h3>Step 1: Setup Mail.app using IMAP</h3>

The biggest endeavor is moving the mail which is a process of: configuring multiple IMAP accounts in <a href="http://www.apple.com/macosx/what-is-macosx/mail-ical-address-book.html">Apple's Mail</a> (I assume you can do the same in any IMAP-compatible email client), and physically copying the messages between the two servers. A few notes before we get setup:

<ul>
	<li><strong>Labels:</strong> Using IMAP, GMail labels will appear as 'folders'. This means that one email with a label applied can appear in at least two places (All Mail, Label 1, Label 2). For simplicity's sake, I decided to abandon the two-dozen-or-so unique labels that I had across the three accounts. There was no easy way to reconcile the different wording or usage I had evolved over the three years of different accounts. So, I stuck to simply moving 'All Mail' to 'All Mail' across accounts.</li>
	<li><strong>Connectivity:</strong> In order to make this (potentially HUGE) move, your network connection (upstream) will be in use the entire time. Basically, the email client is constantly sending commands such as "Copy Message A from Account A to Account B." Needless to say, this will take a while and will require some bandwidth.</li>
	<li><strong>Timeouts means batching:</strong> In my experience, Google had a hard time keeping a connection open if I simply tried to copy 12,000 emails at once. I couldn't tell if it was idling out (idle commands were queued to be sent <em>after</em> the copy commands...) or just choking on the request. I found I could easily queue a month (about 1,000) emails without Google disconnecting.</li>
	<li><strong>Duplicates</strong>: Despite my initial connection failures, IMAP and Google were smart enough not to copy duplicate messages. In other words, if I copied Message A already, and tried it again, it didn't. So, if you lose your place when batching, don't worry about it.</li>
	<li><strong>Crashes:</strong> Mail will crash when you first try to open your 'All Mail' folder (or any large IMAP folder for that matter). Just relaunch a few times and it'll get there eventually. Trust me, it may take a few tries. This is where the 'Activity Window' can help tell you what's going on.</li>
</ul>

With all that said, here's the process:
<ol>
	<li>Go into your Gmail accounts and enable IMAP (Settings > Forwarding and POP/IMAP).</li>
	<li>Open Mail.app and set up your first GMail account (do not check 'Automatically set up account') following these <a href="http://mail.google.com/support/bin/answer.py?hl=en&ctx=mail&answer=75726">IMAP instructions</a>. <strong>DO NOT</strong> check 'Take account online'.</li>
	<li>In the 'Accounts' screen, select your first account and disable all the 'Mailbox Behaviors' (not necessary, but prevents server-side things from happening).</li>
	<li>Switch to the 'Advanced' tab and change the 'Keep copies of messages..' setting to: 'Don't keep copies of any messages'.</li>
	<li>Repeat this process to set up your other account(s) that you're moving to/from.</li>
	<li>Close the 'Accounts' screen and save your changes.</li>
	<li>Open the 'Activity Window' (command + 0) so you can watch what's going on in the background.</li>
	<li>Now you can 'Take All Accounts Online' from the Mailbox menu.</li>

</ol>

At this point, you now have a Mail client setup so that your emails can simply copy across accounts without locally downloading each message. Now the fun part.

<h3>Step 2: Copy all your email from one account to the other</h3>
<ol>
	<li>Browse to the account you want to move email from and open the '[Gmail] All Mail' folder (this is where the crashing is likely to happen, relaunch, watch your 'Activity Window', repeat).</li>
	<li>Start wherever suits you and select a good batch of emails (I would do one month at a time, approximately 1,000 emails per month). Do <strong>not</strong> try to copy all of them at once. If it works, congrats, if it doesn't, you'll have no idea how far it got before crashing or timing out.</li>
	<li>Right click your selection and select 'Copy To'. Browse to the '[Gmail] All Mail' folder of your other account. (notes: you can also drag/drop or 'Copy and Paste', you can also repeat this process using your labels instead of 'All Mail').</li>
	<li>Sit back and watch the bits and bytes fly through the internet in the Activity Window.</li>
	<li>Go ahead and queue the next batch of emails (eg: February). Repeat as much as you'd like. You can see these batches saved in the Activity Window and monitor progress.</li>
</ol>

Over the course of 3 days I was able to move about 30,000 emails in the background (set this up before you go to sleep and use an application like <a href="http://lightheadsw.com/caffeine/">Caffeine</a> to keep your computer awake). Trust me, this is <em>much</em> faster than the 'POP import' process that GMail has built-in (don't even look it up). 

Once you've arrived here you've successfully copied all your email from at least one account to another. You can confirm by browsing to your account online and doing some math. Now, I want to make sure all my future email goes to and comes from the right place.

<h3>Step 3: Setup forwarding from the old account</h3>

Very simply, all you need to do now is visit the old accounts and browse to 'Settings > Forwarding and POP/IMAP'. Configure your old address to forward to your new address. Perfect... moving on.

<h3>Step 4: Setup your new account to send 'from' your old account</h3>

You're likely aware that GMail can send email "on behalf of" other email addresses. Set your primary email account to send from your old ones (if so desired):
<ol>
	<li>Browse to 'Settings > Accounts'</li>
	<li>Under "Send mail as" click the 'Add another email address you own' link</li>
	<li>Follow the instructions, your old address will be sent a confirmation (it should appear in your new account if you followed Step 3)</li>
	<li>If you want to use an old address as your primary outgoing address (eg: all email comes to gmail.com but I want to still send as if I'm at reams.me), then click 'Default' next to that address and check the "When receiving a message:" options below.</li>
</ol>

Now you can send email from your primary account as if you were still at your old ones. <a href="http://mail.google.com/support/bin/answer.py?hl=en&ctx=mail&answer=22370">Learn more about custom 'From' addresses</a>.

<h2>The consolidated life</h2>

Great, now I have all my email accounts flowing into my gmail.com account. My GMail contacts and Google Voice contacts are all synchronized (in addition to my iPhone contacts and Apple Address Book contacts).

Plus, I have over 4 years of email all in one place. I can find receipts from 2004 without having to login to my old accounts!

I tell you, I'm living the dream...

<em>If you have any questions, be sure to post them in the comments.</em>







 
